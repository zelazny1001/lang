public String generateHtmlContent(List<Boolean> boolData, List<TranscriptionData> transcription) {
    double totalDurationSeconds = boolData.size() * CallViewConfig.SECONDS_PER_SAMPLE;
    return new StringBuilder().append(generateHtmlHeader()).append("<body>")
            .append("<h2>Summary for call: ").append(mostRecentCallID).append("</h2>")
            .append(generateSummaryTable(boolData, transcription))
            .append("<br/><br/>").append(generateRulerTable(boolData, totalDurationSeconds))
            .append("<br/><br/>").append("<h2>Transcription</h2>")
            .append(generateTranscriptionTable(transcription))
            .append("<br/><br/>").append("<h2>Detail</h2>")
            .append(generateDetailTable(boolData, transcription))
            .append("</body></html>").toString();
}


===========================

private String generateHtmlHeader() {
    return new StringBuilder("<html><head>").append("<style>")
            .append("table { border-collapse: collapse; width: 100%; table-layout: fixed;}")
            .append("td { width: ").append(CallViewConfig.CELL_WIDTH).append("px; height: ").append(CallViewConfig.CELL_HEIGHT).append("px; border: 1px solid gray; }")
            .append(".summary-cell { width: ").append(CallViewConfig.SUMMARY_CELL_WIDTH).append("px; height: ").append(CallViewConfig.SUMMARY_CELL_HEIGHT).append("px; border: none; }")
            .append(".green { background-color: green; }").append(".red { background-color: red; }")
            .append(".white { background-color: white; }").append("h2 { font-family: Arial; font-weight: bold; font-size: 14px; }")
            .append(".ruler-cell { font-family: Arial; font-size: 10px; text-align: center; border-top: 1px solid gray; border-bottom: 1px solid gray; border-left: none; border-right: none; }")
            .append(".ruler-transition { border-left: 1px solid black; }").append(".ruler-time { font-family: Arial; font-size: 10px; text-align: center; border-top: 1px solid gray; border-bottom: 1px solid gray; border-left: 1px solid lightgray; border-right: none; }")

            .append("</style><script>")
            .append("setTimeout(function(){ window.location.reload(); }, 1000);")
            .append("</script>")
            .append("</head>").toString();
}
