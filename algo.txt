input_filename = "input.txt"
exclusion_tokens_filename = "exclusion_tokens.txt"

with open(exclusion_tokens_filename, "r", encoding="utf-8") as f:
    exclusion_tokens = set(line.strip() for line in f if line.strip())

with open("distinct_exclusion_tokens.txt", "w", encoding="utf-8") as f:
    for token in sorted(exclusion_tokens):
        f.write(token + "\n")

with open(input_filename, "r", encoding="utf-8") as infile, open("new_training_file.txt", "w", encoding="utf-8") as outfile:
    for line in infile:
        if not any(token in line for token in exclusion_tokens):
            outfile.write(line)